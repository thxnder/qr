<core:FragmentDefinition 
    xmlns:core="sap.ui.core" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m"
     xmlns:l="sap.ui.layout" 
     xmlns:f="sap.ui.layout.form"
    xmlns:t="sap.ui.table" 
    xmlns:s="sap.m.semantic" 
    xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
    	
    	<Dialog title="Facturación - Valor Neto: {/pedido/SubTotal}" class="cabecera_dialogo" id="dlg_DocNuevoaddPlanFacturacion" stretchOnPhone="true" contentWidth="50%" contentHeight="80%">
        <content>
            <Panel width="auto" class="sapUiNoContentPadding">
                <content >


                    <f:Form editable="true">
                           <!-- <f:title>
                                <core:Title text="Address" />
                            </f:title> -->
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="3"
                                    labelSpanL="3"
                                    labelSpanM="3"
                                    labelSpanS="5"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Posición" visible="{/OcultarCampos}">
                                            <f:fields>
                                                <Input  width="100%"  value="{/facturacion/FPLTR}" enabled="false"></Input>
                                            </f:fields>
                                        </f:FormElement>                                       
                                        <f:FormElement label="Fecha Factuación">
                                            <f:fields>
                                               <DatePicker valueFormat="dd/MM/YYYY" displayFormat="dd/MM/YYYY" value="{/facturacion/FKDAT}" enabled="{/pedido/enabled}">  
                                               </DatePicker>                                            
                                            </f:fields>
                                        </f:FormElement>                                          
                                        <f:FormElement label="Denominación">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstDenom' }" required="true" selectedKey="{/facturacion/TETXT}" enabled="{/pedido/enabled}">
                                                    <core:Item key="{Codigo}" text="{= ${Codigo} === ''? 'Seleccione' : ${Descripcion}}"/>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>  
                                        <f:FormElement label="Porcentaje %"> 
                                             <f:fields>
                                                <Input width="100%" value="{/facturacion/FPROZ}" enabled="{/pedido/enabled}" ></Input>
                                            </f:fields>
                                        </f:FormElement>
                                       <f:FormElement label="Valor Fact." visible="{/OcultarCampos}">
                                            <f:fields>
                                                <Input width="100%" value="{/facturacion/FAKWR}" enabled="false" ></Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Moneda" visible="{/OcultarCampos}">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstMoneda' }" maxwidth="100%" required="true" selectedKey="{/facturacion/WAERS}" enabled="{/pedido/enabled}" >
                                                    <core:Item key="{Codigo}" text="{Descripcion}"/>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>                                    
                                       <f:FormElement label="Bloqueo">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstBloFac' }" maxwidth="100%" required="true" selectedKey="{/facturacion/FAKSP}" enabled="false" >
                                                    <core:Item key="{Codigo}" text="{Descripcion}"/>
                                                </Select>                                                                                                
                                            </f:fields>
                                        </f:FormElement>

                                       <f:FormElement label="Rgl Fact." visible="{/OcultarCampos}">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstRFACT' }" required="true" selectedKey="{/facturacion/FAREG}" enabled="{/pedido/enabled}">
                                                    <core:Item key="{Codigo}" text="{= ${Codigo} === ''? 'Seleccione' : ${Descripcion}}"/>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>
                                       <f:FormElement label="Status" visible="{/OcultarCampos}">
                                                <Select items="{ path : '/dataIni/lstSTATU' }" required="true" selectedKey="{/facturacion/FKSAF}" enabled="{/pedido/enabled}">
                                                    <core:Item key="{Codigo}" text="{= ${Codigo} === ''? 'Seleccione' : ${Descripcion}}"/>
                                                </Select>
                                        </f:FormElement>
                                       <f:FormElement label="CPag" visible="{/OcultarCampos}">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstCPag' }" required="true" selectedKey="{/facturacion/ZTERM}" enabled="{/pedido/enabled}">
                                                    <core:Item key="{Codigo}" text="{= ${Codigo} === ''? 'Seleccione' : ${Descripcion}}"/>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>
                                       <f:FormElement label="CatF" visible="{/OcultarCampos}">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstTFPLU' }" required="true" selectedKey="{/facturacion/FPTTP}" enabled="{/pedido/enabled}">
                                                    <core:Item key="{Codigo}" text="{= ${Codigo} === ''? 'Seleccione' : ${Descripcion}}"/>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>
                                       <f:FormElement label="C.Fact" visible="{/OcultarCampos}">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstClaseDoc' }" required="true" selectedKey="{/facturacion/FKARV}" enabled="{/pedido/enabled}">
                                                    <core:Item key="{Codigo}" text="{= ${Codigo} === ''? 'Seleccione' : ${Descripcion}}"/>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>
                                       <f:FormElement label="Número Hito" visible="{/OcultarCampos}">
                                            <f:fields>
                                                <Input width="100%" value="{/facturacion/MLSTN}" enabled="{/pedido/enabled}" ></Input>
                                            </f:fields>
                                        </f:FormElement>
                                       <f:FormElement label="Fij" visible="{/OcultarCampos}">
                                            <f:fields>
                                                <Input width="100%" value="{/facturacion/Fij}" enabled="{/pedido/enabled}" ></Input>
                                            </f:fields>
                                        </f:FormElement>                                           
                                    </f:formElements>
                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>
                </content>
            </Panel>
        </content>
        <beginButton>
            <Button text="Añadir" class="btn_aceptar" type="Accept" icon="sap-icon://add" press="onDocPlanFactuacionAdd"></Button>
        </beginButton>
        <endButton>
            <Button text="Cancel" class="btn_cancelar" type="Reject" icon="sap-icon://sys-cancel" press="onDocPlanFactuacionClose"/>
        </endButton>
    </Dialog>




    </core:FragmentDefinition>