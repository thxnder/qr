<core:FragmentDefinition 
    xmlns:core="sap.ui.core" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m"
     xmlns:l="sap.ui.layout" 
     xmlns:f="sap.ui.layout.form"
    xmlns:t="sap.ui.table" 
    xmlns:s="sap.m.semantic"
    xmlns:u="sap.ui.unified" 
    xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
    	

    	<Dialog title="Material" class="cabecera_dialogo" id="dlg_DocNuevoaddProducto" stretchOnPhone="true" contentWidth="auto" contentHeight="auto">
        <content >
                    <f:Form editable="true">
                           <!-- <f:title>
                                <core:Title text="Address" />
                            </f:title> -->
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="3"
                                    labelSpanL="3"
                                    labelSpanM="3"
                                    labelSpanS="4"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Código">
                                            <f:fields>
                                                <Input type="Number" pattern="[0-9]*" placeholder="Codigo de material" id="txt_codigo_anadir_material">       
                                                <layoutData>
                                        <l:GridData span="L6 M6 S6"/>
                                    </layoutData>
                                                </Input>

                                                <u:FileUploader
                                                id="fileUploader"
                                                name="myFileUpload"
                                                uploadUrl="upload/"
                                                buttonOnly="true"
                                                buttonText= " "
                                                multiple="true"
                                                icon= "sap-icon://bar-code"
                                                uploadComplete="handleUploadComplete"
                                                change="handleValueChange"
                                                typeMissmatch="handleTypeMissmatch"
                                                style="Transparent"
                                                fileType="jpg,png"
                                                mimeType= "image/*"
                                                placeholder=""
                                                uploadOnChange="false">
                                                    <u:parameters>
                                                        <u:FileUploaderParameter
                                                            name="param1"
                                                            value="Foo"/>
                                                        <u:FileUploaderParameter
                                                            name="param2"
                                                            value="bar"/>
                                                    </u:parameters>
                                                    <u:headerParameters>
                                                        <u:FileUploaderParameter
                                                            name="headerParam1"
                                                            value="Foo"/>
                                                        <u:FileUploaderParameter
                                                            name="headerParam2"
                                                            value="bar"/>
                                                    </u:headerParameters>
                                                </u:FileUploader>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Cod. Proveedor">
                                            <f:fields>
                                                <SearchField type="Number" pattern="[0-9]*" placeholder="Codigo Proveedor" id="txt_codigo_proveedor" showSearchButton="true" search="onBtnBuscarCodProveedor">  
                                                </SearchField>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Cantidad">
                                            <f:fields>
                                                <!--Input value="1" id="txt_cantidad_anadir_material" align="right" ></Input-->
                                                <StepInput
                            id="txt_cantidad_anadir_material"
                            class="stepInputAddMaterial"
                            value="1"
                            displayValuePrecision="1"
                            min="1"
                            max="100000"
                            width="{width}"
                            step="1.0"
                            largerStep="40"
                            valueState="{valueState}"
                            enabled="{enabled}"
                            editable="{editable}"
                            change="onChange"/>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Ambiente">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstPreguntas/5/listaResp' }" required="true" id="com_ambiente_anadir_material" selectedKey="{/codAmbiente}" enabled="{/validCmbOpcionAmbiente}">
                                                    <core:Item key="{Codigo}" text="{= ${Codigo} === ''? 'Seleccione' : ${Descripcion}}"/>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Opción Ambiente">
                                            <f:fields>
                                                <Select  required="true" id="com_opcion_anadir_material" 
                                                    selectedKey="{/opcAmbiente}" enabled="{/validCmbOpcionAmbiente}">
                                                <core:Item key="" text="Ingrese la Opción"/>    
                                                <core:Item key="01" text="01"/>
                                                <core:Item key="02" text="02"/>
                                                <core:Item key="03" text="03"/>
                                                <core:Item key="04" text="04"/>
                                                <core:Item key="05" text="05"/>
                                                <core:Item key="06" text="06"/>
                                            </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        <!--f:FormElement label="Unid. Medida">
                                            <f:fields>
                                                <ComboBox placeholder="Seleccione Unid Medida" items="{ path : 'modellstUnidMed>/',
                                                    sorter: {
                                                            path: 'modellstUnidMed>descripcion',
                                                            asc: true
                                                        } }" maxwidth="100%"  selectedKey="{/codUnidMedida}" enabled="{/pedido/enabled}">
                                                    <core:Item key="{modellstUnidMed>codigo}" text="{modellstUnidMed>codigo} :: {modellstUnidMed>descripcion}"/>
                                                </ComboBox>
                                            </f:fields>
                                        </f:FormElement-->
                                        <!--f:FormElement label="Vínculos">
                                            <f:fields>
                                                <CheckBox valueState="Error" enabled="true" selected="true" />
                                            </f:fields>
                                        </f:FormElement-->
                                    </f:formElements>
                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>
                        <core:HTML content='&lt;img id=&quot;qr-code&quot; src=&quot;&quot; style=&quot;display:none&quot; /&gt;'></core:HTML>
        </content>
        <beginButton>
            <Button text="Añadir" class="btn_aceptar" type="Accept" icon="sap-icon://add" press="onDocNuevoMasterProductosAdd"></Button>
        </beginButton>
        <endButton>
            <Button text="Cancel" class="btn_cancelar" type="Reject" icon="sap-icon://sys-cancel" press="onDocNuevoClosedlg_addProducto"/>
        </endButton>
    </Dialog>




    </core:FragmentDefinition>